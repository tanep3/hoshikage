# 星影 - Hoshikage 設定ファイル (.env)
# デフォルト配置場所: ~/.config/hoshikage/.env

# サーバー設定
PORT=3030
HOST=127.0.0.1

# ログレベル (error, warn, info, debug, trace)
RUST_LOG=info
# ログファイル出力パス (指定しない場合は標準出力のみ)
# LOG_FILE_PATH=/home/<USER>/.config/hoshikage/logs/hoshikage.log


# ------------------------------------------------------------------
# RAMディスク設定 (高速ロード機能 - Linux専用)
# ------------------------------------------------------------------
# RAMディスクパス (デフォルト: /dev/shm)
# Linux以外ではこの機能は自動的に無効化されます。
# WindowsでRAMドライブ(R:など)を使用したい場合はそのパスを指定してください。
RAMDISK_PATH=/dev/shm

# ------------------------------------------------------------------
# "静かなる知性" (省リソース設定)
# ------------------------------------------------------------------
# 非アクティブ時のモデル自動アンロードまでの時間 (秒)
# 0 にすると自動アンロード無効 (デフォルト: 300 = 5分)
IDLE_TIMEOUT=300

# 長時間非アクティブ時のRAMディスク解放までの時間 (分)
# メモリをOSに返却するためファイルを削除します
# (デフォルト: 60 = 1時間)
GREAT_TIMEOUT=60

# ------------------------------------------------------------------
# その他パス設定
# ------------------------------------------------------------------
# 動的ライブラリパス (libllama.so / llama.dll の場所)
# 指定しない場合はシステムのパス(LD_LIBRARY_PATH 等)が使われます
# HOSHIKAGE_LIB_PATH=~/.config/hoshikage/lib

# モデル格納ディレクトリ (自動スキャン用)
# MODEL_DIR=/home/<USER>/.config/hoshikage/models

# モデル設定ファイル (json手動管理用)
# MODEL_MAP_FILE=/home/<USER>/.config/hoshikage/model_map.json

# ------------------------------------------------------------------
# ハードウェア設定
# ------------------------------------------------------------------
# GPU使用数
# -1 : 可能な限り全てのレイヤーをGPUにオフロード (最速・推奨)
#  0 : CPUのみで推論 (遅い・VRAM不足時用)
# 任意の数値 : 指定した層数だけGPUを使う
N_GPU_LAYERS=-1

# コンテキスト長 (トークン数)
# デフォルト: 4096
N_CTX=4096

# 生成パラメータ
# デフォルト: TEMPERATURE=0.2, TOP_P=0.8
TEMPERATURE=0.2
TOP_P=0.8
